{
  "version": 1,
  "id": "cub-048a-1.5",
  "title": "Remove runs/ and run-sessions/ writes, fix epic title",
  "lineage": {
    "spec_file": null,
    "plan_file": null,
    "epic_id": "cub-048a-1"
  },
  "task": {
    "title": "Remove runs/ and run-sessions/ writes, fix epic title",
    "description": "The run loop currently writes to `.cub/runs/` and `.cub/run-sessions/`. These writes need to be redirected to the new ledger structure. Also fix the bug where epic entries capture ID instead of title.\n\n**Implementation Steps:**\n1. Update `StatusWriter` to write to `ledger/by-run/` instead of `runs/`\n2. Update `RunSessionManager` to write to `ledger/by-run/` instead of `run-sessions/`\n3. Remove `runs/` directory creation code\n4. Remove `run-sessions/` directory creation code\n5. Find epic entry creation and pass title instead of ID\n6. Update any code that reads from old locations to use new paths\n7. Add deprecation warnings if old directories are detected\n\n**Files:** `src/cub/core/status/writer.py`, `src/cub/core/session/manager.py`, `src/cub/core/ledger/writer.py`",
    "type": "task",
    "priority": 0,
    "labels": [
      "phase-2",
      "model:sonnet",
      "complexity:medium",
      "domain:logic",
      "risk:medium"
    ],
    "created_at": "2026-02-04T15:37:04.560679",
    "captured_at": "2026-02-04T21:35:10.601303Z"
  },
  "task_changed": null,
  "attempts": [],
  "outcome": null,
  "drift": {
    "additions": [],
    "omissions": [],
    "severity": "none"
  },
  "verification": {
    "status": "pending",
    "checked_at": null,
    "tests_passed": null,
    "typecheck_passed": null,
    "lint_passed": null,
    "notes": []
  },
  "workflow": {
    "stage": "dev_complete",
    "stage_updated_at": "2026-02-04T21:35:10.601303Z"
  },
  "state_history": [
    {
      "stage": "dev_complete",
      "at": "2026-02-04T21:35:10.601303Z",
      "by": "cub-run",
      "reason": "Task execution started"
    }
  ],
  "ci_monitor": null,
  "started_at": "2026-02-04T21:35:10.601303Z",
  "completed_at": "2026-02-04T21:35:10.601303Z",
  "tokens": {
    "input_tokens": 0,
    "output_tokens": 0,
    "cache_read_tokens": 0,
    "cache_creation_tokens": 0
  },
  "cost_usd": 0.0,
  "duration_seconds": 0,
  "iterations": 1,
  "approach": "",
  "decisions": [],
  "lessons_learned": [],
  "files_changed": [],
  "commits": [],
  "spec_file": null,
  "run_log_path": "/home/marc/Projects/cub/.cub/ledger/by-task/cub-048a-1.5",
  "epic_id": "cub-048a-1",
  "verification_status": "pending",
  "verification_notes": [],
  "harness_name": "",
  "harness_model": "",
  "workflow_stage": null,
  "workflow_stage_updated_at": null
}