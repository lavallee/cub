# Project Prompt

This file provides context for AI coding agents working on this project.

## Overview

People working on projects of any complexity, or juggling multiple projects, have a hard time keeping the whole picture in their heads. Project state is fragmented across specs/, .cub/sessions/, .beads/, .cub/ledger/, and CHANGELOG.md - there are few tools that provide streamlined, real-time understanding of where everything stands.

## Requirements

### P0 - Must Have

| Requirement | Rationale |
|-------------|-----------|
| **Sync layer** - Import specs, plans, beads/JSON tasks, ledger, CHANGELOG into SQLite | Core data aggregation enabling all other features |
| **Stage computation** - Place entities correctly across 8 columns | The fundamental value proposition |
| **Explicit relationship markers** - Define convention for `spec_id`, `plan_id`, `epic_id` in artifacts | Reliable linking without fragile heuristics |
| **FastAPI server** - `/api/board`, `/api/entity/{id}`, `/api/artifact` endpoints | Backend for web UI |
| **Kanban board UI** - 8 columns, entity cards, horizontal scroll | Primary interface |
| **Detail panel** - Click entity → metadata, relationships, content | Context without leaving the board |

## Components

### Sync Layer (`src/cub/core/dashboard/sync/`)

- **Purpose:** Parse all data sources and write to SQLite
- **Responsibilities:**
  - Parse specs from `specs/**/*.md` using existing `Spec.from_frontmatter_dict`
  - Parse plans from `.cub/sessions/*/plan.jsonl` and `session.json`
  - Query task backend for epics/tasks (beads or JSON)
  - Read ledger entries using existing `LedgerReader`
  - Parse CHANGELOG.md for release → task mappings
  - Resolve relationships via explicit markers (`spec_id`, `plan_id`, `epic_id`)
  - Write entities and relationships to SQLite
- **Dependencies:** `cub.core.specs`, `cub.core.ledger`, `cub.core.tasks`
- **Interface:**
  ```python
  class SyncOrchestrator:

## Constraints

None hard - flexibility to build this right.

---

Generated by cub stage from plan: project-kanban-dashboard
